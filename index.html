<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Malaysia Income Visualizations</title>

  <!-- PureCSS -->
  <link
    rel="stylesheet"
    href="https://unpkg.com/purecss@2.0.3/build/pure-min.css"
    integrity="sha384-cg6SkqEOCV1NbJoCu11+bm0NvBRc8IYLRGXkmNrqUBfTjmMYwNKPWBTIKyw9mHNJ"
    crossorigin="anonymous"
  />
  <link
    rel="stylesheet"
    href="https://unpkg.com/purecss@2.0.3/build/grids-responsive-min.css"
  />

  <!-- Google Font -->
  <link href="https://fonts.googleapis.com/css2?family=Poppins:wght@400;600;700&display=swap" rel="stylesheet">

  <!-- Import style.css -->
  <link rel="stylesheet" href="style.css" />

  <!-- Vega Libraries -->
  <script src="https://cdn.jsdelivr.net/npm/vega@5"></script>
  <script src="https://cdn.jsdelivr.net/npm/vega-lite@5"></script>
  <script src="https://cdn.jsdelivr.net/npm/vega-embed@6"></script>
</head>

<body>
  <div class="page">

    <!-- Title Card -->
    <div class="section-card">
      <h1 class="main-title">Malaysia Household Income and Economic Well-Being</h1>
      <p class="subtitle">Exploring salary growth and the gap between rural and urban</p>
    </div>


    <!-- ===== KPI Section ===== -->
      <div class="kpi-container">
    <div class="kpi-card">
      <h3>Average Salary</h3>
      <p class="kpi-value">RM 2,745</p>
    </div>
    <div class="kpi-card">
      <h3>Average Hourly Salary</h3>
      <p class="kpi-value">RM 12.31</p>
    </div>
    <div class="kpi-card">
      <h3>Minimum Wage</h3>
      <p class="kpi-value">RM 1,700</p>
    </div>
    <div class="kpi-card">
      <h3>Average Monthly Expenditure</h3>
      <p class="kpi-value">RM 5,150</p>
    </div>
  </div>


    <!-- ===== Choropleth Map Section ===== -->
<div class="pure-g">
  <div class="pure-u-1-1" style="position: relative;"> 
    <h2 class="chart-title" style="font-size:28px; font-weight:700; margin-bottom:8px;">Trends in Income Growth (1970–2022)</h2>
    <p class="chart-subtitle"></p>

    <!-- Vega Map -->
    <div id="vis_map" class="vis-container"></div>

    <!-- Floating Info Card on Map -->
    <div class="map-info-card">
      <p>
        Since 1957, Malaysia has evolved from an agricultural<br>
        economy to a modern industrial nation, with <strong>incomes<br>
        rising sharply from 1970 to 2022.</strong>
      </p>
    </div>
  </div>
</div>

<!-- ===== Income Ranking Section ===== -->
<div class="section-card income-ranking">

  <h2 class="chart-title" style="font-size:28px; font-weight:700; margin-bottom:8px;">Income Ranking by State (2022)</h2>

  <div class="ranking-wrapper">
    <!-- Left: Ranking Box with filter -->
    <div class="ranking-box">
      <div class="ranking-header">
        <button id="median-tab" class="active">Median Income</button>
        <button id="mean-tab">Mean Income</button>
      </div>

      <!-- Median Income List -->
      <ul id="median-ranking">
        <li><span>#1</span> Kuala Lumpur <strong>RM 10,234</strong></li>
        <li><span>#2</span> Putrajaya <strong>RM 10,056</strong></li>
        <li><span>#3</span> Selangor <strong>RM 9,983</strong></li>
        <li><span>#4</span> Johor <strong>RM 6,879</strong></li>
        <li><span>#5</span> Labuan <strong>RM 6,904</strong></li>
        <li><span>#6</span> Pulau Pinang <strong>RM 6,502</strong></li>
        <li><span>#7</span> Terengganu <strong>RM 5,878</strong></li>
        <li><span>#8</span> Sarawak <strong>RM 4,978</strong></li>
        <li><span>#9</span> Negeri Sembilan <strong>RM 5,226</strong></li>
        <li><span>#10</span> Pahang <strong>RM 4,753</strong></li>
        <li><span>#11</span> Perlis <strong>RM 4,713</strong></li>
        <li><span>#12</span> Perak <strong>RM 4,494</strong></li>
        <li><span>#13</span> Kedah <strong>RM 4,402</strong></li>
        <li><span>#14</span> Sabah <strong>RM 4,577</strong></li>
        <li><span>#15</span> Melaka <strong>RM 6,210</strong></li>
        <li><span>#16</span> Kelantan <strong>RM 3,614</strong></li>
      </ul>

      <!-- Mean Income List -->
      <ul id="mean-ranking" class="hidden">
        <li><span>#1</span> Putrajaya <strong>RM 13,473</strong></li>
        <li><span>#2</span> Kuala Lumpur <strong>RM 13,325</strong></li>
        <li><span>#3</span> Selangor <strong>RM 12,233</strong></li>
        <li><span>#4</span> Johor <strong>RM 8,517</strong></li>
        <li><span>#5</span> Pulau Pinang <strong>RM 8,267</strong></li>
        <li><span>#6</span> Labuan <strong>RM 8,250</strong></li>
        <li><span>#7</span> Melaka <strong>RM 8,057</strong></li>
        <li><span>#8</span> Terengganu <strong>RM 7,248</strong></li>
        <li><span>#9</span> Negeri Sembilan <strong>RM 6,788</strong></li>
        <li><span>#10</span> Sarawak <strong>RM 6,457</strong></li>
        <li><span>#11</span> Sabah <strong>RM 6,171</strong></li>
        <li><span>#12</span> Pahang <strong>RM 5,777</strong></li>
        <li><span>#13</span> Perak <strong>RM 5,779</strong></li>
        <li><span>#14</span> Perlis <strong>RM 5,664</strong></li>
        <li><span>#15</span> Kedah <strong>RM 5,550</strong></li>
        <li><span>#16</span> Kelantan <strong>RM 4,885</strong></li>
      </ul>
    </div>

    <!-- Right: Placeholder for annotation -->
    <div class="annotation-box">
      <h3>Observation</h3>
      <p>
      <strong>Kuala Lumpur</strong>, <strong>Putrajaya</strong>, and <strong>Selangor</strong> consistently record
      the highest incomes, reflecting strong urban economic
      growth and industrial concentration.
    </p>

    <p>
      Meanwhile, rural states such as <strong>Kelantan</strong> and <strong>Kedah</strong>
      continue to report lower incomes, reflecting slower
      economic growth, fewer job opportunities,
      and reliance on traditional jobs.
    </p>

    <p>
      The widening gap between rural and urban Malaysia
      highlights the importance of inclusive national
      development policies.
    </p>
    </div>
      </div>
    </div>

    <!-- ===== Area Chart + Event Summary Section ===== -->
    <div class="section-card">

      <!-- Centered Title -->
      <h2 class="chart-title" style="font-size:28px; font-weight:700; margin-bottom:8px;">
        Household Income Trend Over Time
      </h2>

      <div class="pure-g area-and-events">

        <!-- Left: Chart -->
        <div class="pure-u-1 pure-u-md-3-4">
          <div class="chart-container">
            <div id="vis_area" class="vis-container"></div>
          </div>
        </div>

        <!-- Right: Event Explanation Boxes -->
        <div class="pure-u-1 pure-u-md-1-4">
          <div class="description description-right">
            <h2 class="sub-heading">Key Events</h2>

            <div class="event-row">
              <div class="event-box">
                <h3>1997: Asian Financial Crisis</h3>
                <p>
                  Almost all states experienced a drop in income during
                  the global crisis, showing Malaysia’s exposure to
                  world economic downturns.
                </p>
              </div>

              <div class="event-box">
                <h3>2012: Minimum Wage Policy</h3>
                <p>
                  After the government announced the minimum wage policy,
                  all states saw a visible salary increase, improving
                  household earnings.
                </p>
              </div>

              <div class="event-box">
                <h3>2020: COVID-19 Pandemic</h3>
                <p>
                  The pandemic caused income declines nationwide, but most
                  states recovered by 2022 as jobs gradually returned.
                </p>
              </div>
            </div>
          </div>
        </div>

      </div>
    </div>

    <!-- ===== Dumbbell Chart Section ===== -->
    <div class="pure-g">
  <div class="pure-u-1-1" style="position: relative;">
    <h2 class="chart-title" style="font-size:28px; font-weight:700; margin-bottom:8px;">
      <span style="color:#F58518;">Mean</span> vs 
      <span style="color:#4C78A8;">Median</span> Household Income by State (2022)
    </h2>
    <p class="chart-subtitle large-subtitle"  style="font-size:20px; line-height:1.6;">
      The gap between the two points shows income inequality <br>
      wider gaps represent greater disparity.
    </p>
        <!-- Vega Dumbbell Chart -->
        <div id="vis_dumbbell" class="vis-container"></div>

        <!-- Floating Info Card -->
        <div class="dumbbell-info-card">
          <p>
            <strong>Putrajaya</strong>, <strong>Kuala Lumpur</strong>, and <strong>Selangor</strong> record the 
            <strong>widest gaps</strong> between median and mean household incomes.  
            <br><br>
            This pattern suggests that while these urban regions host many 
            <strong>high-income earners</strong>, they also contain a significant number of 
            <strong>lower-income households</strong>.  
            <br><br>
            Such contrast points to deeper <strong>income inequality</strong> within Malaysia’s 
            most developed economic centers.
          </p>
        </div>
      </div>
    </div>

     <!-- ===== Scatter Plot Section ===== -->
      <div class="pure-g">
        <div class="pure-u-1-1" style="position: relative;">
          <h2 class="chart-title" style="font-size:28px; font-weight:700; margin-bottom:8px;">
            Median Household Income vs Poverty Rate by State (2022)
          </h2>
          <p class="chart-subtitle" style="font-size:20px; line-height:1.6;">
            This chart explores the relationship between income and poverty levels across Malaysian states.
          </p>

          <!-- Vega Scatter Plot -->
          <div id="vis_scatter" class="vis-container" 
              style="margin: 0 auto; width: 85%; max-width: 1000px; height: 600px; display: flex; justify-content: center;">
          </div>

          <!-- Floating Info Card -->
          <div class="scatter-info-card">
            <p>
              The regression line shows a clear <strong style="color:#D32F2F;">negative correlation</strong> <br>
              between <strong>income</strong> and <strong>poverty rate</strong> across Malaysian states.  
              <br><br>
              <strong>Selangor</strong>, <strong>Kuala Lumpur</strong>, and <strong>Putrajaya</strong> record the  
              <strong>lowest poverty levels</strong> in the nation.  
              <br><br>
              In contrast, <strong>Sabah</strong> shows the <strong>highest poverty rate</strong>,  
              far above other states.  
              <br><br>
              Three distinct groups appear — <strong>urban high-income</strong>,  
              <strong>middle-income</strong>, and <strong>rural low-income</strong> clusters.
            </p>
          </div>
        </div>
      </div>

    <!-- ===== Lollipop Chart Section ===== -->
    <div class="section-card">

      <!-- Centered Title + Subtitle (spanning both columns) -->
      <div class="chart-heading">
        <h2 class="chart-title" style="font-size:28px; font-weight:700; margin-bottom:8px;">Cost of Living Index Among the World</h2>
        <p class="chart-subtitle"  style="font-size:20px; line-height:1.6;">
          Higher index values represent more expensive living costs.
        </p>
      </div>

      <!-- Two-column layout -->
      <div class="pure-g lollipop-and-info" style="align-items: center;">
        
        <!-- Left: Info Card -->
        <div class="pure-u-1 pure-u-md-1-3">
          <div class="info-card-left">
            <h2 class="sub-heading">Understanding the Index</h2>
            <p>
              <strong>Malaysia’s cost of living index (31.1)</strong> is significantly 
              lower than developed nations such as <strong>Norway</strong>, 
              <strong>Denmark</strong>, and <strong>Singapore</strong> — all above 85.  
              <br><br>
              This highlights that <strong>Malaysia remains relatively affordable</strong> 
              within Asia, though it also reflects <strong>lower average income</strong> 
              compared to high-cost economies.  
              <br><br>
              In short, while Malaysians enjoy manageable living expenses, 
              the <strong>purchasing power gap</strong> between Malaysia and 
              richer nations remains wide.
            </p>
          </div>
        </div>

        <!-- Right: Chart -->
        <div class="pure-u-1 pure-u-md-2-3">
          <div class="chart-container">
            <div id="vis_lollipop" class="vis-container"></div>
          </div>
        </div>

      </div>
    </div>


    <!-- ===== Dual Axis Chart Section ===== -->
    <div class="pure-g">
      <div class="pure-u-1-1" style="position: relative;">
        <h2 class="chart-title" style="font-size:28px; font-weight:700; margin-bottom:8px;">
          <span style="color:#4C78A8;">Median Household Income</span> 
          vs 
          <span style="color:#9ACD32;">Mean Expenditure</span> 
          by State in Malaysia
        </h2>
        <p class="chart-subtitle"  style="font-size:20px; line-height:1.6;">
          This chart reveals differences in living standards across Malaysian states.
        </p>

        <!-- Vega Chart -->
        <div id="vis_dualaxis" class="vis-container"></div>

        <!-- Floating Info Card -->
        <div class="dualaxis-info-card">
          <p>
            <strong>Urban states</strong> such as <strong>Kuala Lumpur</strong>, <strong>Putrajaya</strong>, 
            and <strong>Selangor</strong> continue to lead in both income and spending, 
            reflecting stronger purchasing power and higher living standards.  
            <br><br>
            Meanwhile, smaller gaps in <strong>rural states</strong> indicate that while spending 
            generally stays within income limits, households often have 
            <strong>limited savings capacity</strong> and tighter financial margins.
          </p>
        </div>
      </div>
    </div>
    
    <!-- ===== Butterfly Chart Section ===== -->
    <div class="section-card">

      <!-- Centered Title (spanning both columns) -->
      <!-- Centered Title + Subtitle (spanning both columns) -->
      <div class="chart-heading" style="text-align:center; margin-bottom:20px;">
        <h2 class="chart-title" style="font-size:28px; font-weight:700; margin-bottom:8px;">
          Gender Pay Comparison by Job Type in Malaysia 
          (<span style="color:#4C78A8; font-weight:700;">Male</span> vs 
          <span style="color:#E57373; font-weight:700;">Female</span>)
        </h2>
        <p class="chart-subtitle" style="font-size:20px; line-height:1.6;">
          This chart highlights the salary gap between men and women.
        </p>
      </div>



      <!-- Two-column layout -->
      <div class="pure-g butterfly-and-info" style="align-items: center;">

        <!-- Left: Chart -->
        <div class="pure-u-1 pure-u-md-3-4">
          <div class="chart-container">
            <div id="vis_butterfly" class="vis-container"></div>
          </div>
        </div>

        <!-- Right: Info Card -->
        <div class="pure-u-1 pure-u-md-1-4">
          <div class="info-card-right">
            <h2 class="sub-heading">Gender Income Gap</h2>
            <p>
              Across nearly all job categories in Malaysia, 
              <strong>men earn higher median salaries</strong> than women, 
              reflecting ongoing <strong>gender pay inequality</strong>.  
              <br><br>
              The gap is particularly wide in sectors like 
              <strong>Financial & Insurance</strong>, <strong>Human Health</strong>, and 
              <strong>Information & Communication</strong>, where male earnings 
              significantly exceed those of female workers.
            </p>
          </div>
        </div>

      </div>
    </div>


    <!-- ===== Footer ===== -->
    <footer style="margin-top:40px; color:#666; font-family:'Poppins', sans-serif; font-size:14px; line-height:1.8;">

      <!-- Main footer line (centered) -->
      <p style="text-align:center;">
        Visualization by <strong>Chai Shou Zheng 34035958</strong> &nbsp; | &nbsp;
        <strong>Date Created:</strong> 19 October 2025 &nbsp; | &nbsp;
        <strong>FIT3179 Data Visualization 2</strong>
      </p>

      <!-- Metadata (aligned to far left of page) -->
      <div style="margin-top:10px; font-size:12px; line-height:1.6; text-align:left; margin-left:60px;">
        <strong>Metadata</strong><br>
        <strong>Data Sources:</strong><br>

        Household Income by State: 
        <a href="https://open.dosm.gov.my/data-catalogue/hh_income_state" target="_blank" style="color:#3366cc;">
          https://open.dosm.gov.my/data-catalogue/hh_income_state
        </a><br>

        Cost of Living by Country: 
        <a href="https://www.numbeo.com/cost-of-living/region_rankings_current.jsp?region=035" target="_blank" style="color:#3366cc;">
          https://www.numbeo.com/cost-of-living/region_rankings_current.jsp?region=035
        </a><br>

        Household Income and Expenditure by State: 
        <a href="https://open.dosm.gov.my/data-catalogue/hies_state" target="_blank" style="color:#3366cc;">
          https://open.dosm.gov.my/data-catalogue/hies_state
        </a><br>

        Median Monthly Basic Salary for Full Time Employees: 
        <a href="https://archive.data.gov.my/data/dataset/median-monthly-basic-salary-for-full-time-employees" target="_blank" style="color:#3366cc;">
          https://archive.data.gov.my/data/dataset/median-monthly-basic-salary-for-full-time-employees
        </a>
      </div>

    </footer>


</footer>

  <!-- Vega-Lite Script -->
  <script src="vega_lite_vis.js"></script>



  <!-- ===== Median and mean income selection, javascript ===== -->
  <script>
const medianTab = document.getElementById("median-tab");
const meanTab = document.getElementById("mean-tab");
const medianBox = document.getElementById("median-ranking");
const meanBox = document.getElementById("mean-ranking");

medianTab.addEventListener("click", () => {
  medianBox.classList.remove("hidden");
  meanBox.classList.add("hidden");
  medianTab.classList.add("active");
  meanTab.classList.remove("active");
});

meanTab.addEventListener("click", () => {
  meanBox.classList.remove("hidden");
  medianBox.classList.add("hidden");
  meanTab.classList.add("active");
  medianTab.classList.remove("active");
});
</script>
</body>
</html>
